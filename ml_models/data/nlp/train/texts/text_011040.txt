but was defeated in a fierce battle on the banks of the daban canal